# Repository Guidelines

Welcome to the DigitalFINEW codebase.  This short guide clarifies how the project is laid out, how to work with it locally, and the conventions contributors are expected to follow.

## Project Structure & Module Organization

```
finstat_system_vscode/       # Main Python package
  src/                       # Application logic
  configs/                   # YAML & CSV configuration
  input/                     # Source DBF/archives (ignored in VCS)
  data/                      # SQLite database (autogenerated)
tests/                       # Unit-tests (pytest)
docs/                        # Additional docs & specs
```

## Build, Test & Development Commands

```bash
# Set up environment (one-time)
python -m venv venv && source venv/bin/activate
pip install -r finstat_system_vscode/requirements.txt

# Initialise empty database
python finstat_system_vscode/run.py init-db

# Import new DBF files & calculate indicators
python finstat_system_vscode/run.py import --all
python finstat_system_vscode/run.py calc-indicators

# Run test-suite
pytest -q            # fast feedback
```

## Coding Style & Naming Conventions

* **Python 3.11**, 4-space indentation, max 100-col lines.
* Follow *PEP-8*; auto-format with **`black`** (run `black .`).
* Filenames: lower_snake_case for modules, `CamelCase` for classes, UPPER_SNAKE for constants.
* Config keys use UPPER_SNAKE (`NONINTEREST_EXPENSES`).

## Testing Guidelines

* Framework: **pytest** with plain `assert` statements.
* Place tests mirroring package path: `tests/test_<module>.py`.
* Include edge-cases and at least one negative case per public function.
* Aim for â‰¥80 % statement coverage (`pytest --cov`).

## Commit & Pull Request Guidelines

* Commit messages: `<type>: <short description>` (e.g., `fix: handle empty DBF archives`).
* Keep commits scoped; avoid unrelated changes.
* Pull Requests must:
  * Reference related issue (`Closes #123`).
  * Describe **what** and **why**, not only *how*.
  * Pass CI (lint, tests) before review.

## Security & Configuration Tips

* Never commit real financial data; use redacted samples in `input/`.
* Secrets (API keys, DB passwords) belong in environment variables or `.env`, excluded by `.gitignore`.

---
For questions reach out to the maintainer listed in `pyproject.toml`.

